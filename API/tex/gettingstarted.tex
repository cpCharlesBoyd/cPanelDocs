\begin{section}{Getting Started}
  
  In this section we cover some basic examples of how to use the standardized hooks.
  
  \begin{subsection}{Introduction to the Public API}
    
    The PHP PublicAPI client is a wrapper around the cPanel PHP library. It
    provides the programmer with an easy way to create Service objects and
    despatch the PublicAPI methods to them.
    
    First we need to instantiate the \cPanel PublicAPI instance.
      
\begin{verbatim}
        require_once realpath( dirname(__FILE__) . '/../Util/Autoload.php');
        $cp = Cpanel_PublicAPI::getInstance();
\end{verbatim}

Create some initialization data to pass along.

\begin{verbatim}
$whmCfg = array(
        'host' => '10.1.4.191',
        'user' => 'root',
        'password' => 'rootsecret'
    );        
\end{verbatim}

Now obtain a service object through the \cPanel library and set it up.

\begin{verbatim}
    $xmlapi = new Cpanel_Service_WHM($whmCfg);
    $xmlapi->setPort('2087');
    $xmlapi->set_port('2087');
    
    $response = $xmlapi->version();
    echo "WHM Version: {$response->version}\n";
\end{verbatim}

\newpage

\begin{verbatim}
<?php
TRY {
    require_once realpath( dirname(__FILE__) . '/../Util/Autoload.php');
    $cpCfg = array(
        'cpanel'=>array(
            'service'=>array(
                'whm' => array(
                    'host' => '10.1.4.191',
                    'user' => 'root',
                    'password' => 'rootsecret',
                )
            )
        )
    );
    $cp = Cpanel_PublicAPI::getInstance($cpCfg);
    $response = $cp->whm_api('version');
    echo "WHM Version: {$response->version}\n";
}
CATCH(Exception $e) {
    echo $e->getMessage() . "\n" . $e->getTraceAsString() . "\n";
}
echo "EOF: You've successfully ended the " . basename(__FILE__) . " script.\n";
?>
\end{verbatim}
  \end{subsection}

  \newpage

\begin{subsection}{NOTE!!}

You can write bash lines with my bash macro:

\bash{ls \pipe sort -r}

\bash[/usr/local]{grep error apache/logs/error\_log \pipe tail}

\end{subsection}
\end{section}
