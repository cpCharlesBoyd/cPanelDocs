\begin{verbatim}
#!/usr/bin/perl 
use IO::Select;
use JSON::Syck;

$input = get_passed_data();

my ( $result_status, $result_msg ) = do_something($input);

print ``$result_status $result_msg'';
exit;

##
# Supporting Functions Below Here
##
sub do_something {
    my ($input) = @_;
    my ( $status, $msg );

    #...do something here

    $status = 1;   # or zero for fail
    $msg    = ``Success or fail message here.'';
    return $status, $msg;
}

sub get_passed_data {
    my $raw_data   = '';
    my $input_data = {};
    my $selects    = IO::Select->new();
    $selects->add( \*STDIN );
    if ( $selects->can_read(.1) ) {
        while (<STDIN>) {
            $raw_data .= $_;
        }
        $input_data = JSON::Syck::Load($raw_data);
    }
    return $input_data;
} 
\end{verbatim}
